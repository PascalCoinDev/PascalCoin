<pre>
  PIP: *reserved for PIP editor*
  Title: Title for your PIP
  Type: Protocol | Backend |
  Impact: [Hard-Fork|Soft-Fork] - [Protcol | API | GUI | Mobile | Other]
  Author: Preben Bj√∂rn Biermann Madsen (nightraven) <i>&lt;natugle@gmail.com&gt;</i>
  Comments-URI: *reserved for PIP editor*
  Status: Draft
  Created: 2017-08-15
</pre>

## Summary

A hook to watch the paylod and invoke external functions when certain events occur.
 
## Motivation

Hook(s) will make it easy for develpoers and users to implement new functions without modifying the original wallet. 

## Specification

The payload opens up for an easy way to implement new functions to the wallet. It is already possible to watch the payload through the Json RPC Api, but a hook would make it more easy for developers and users to interact with the PascalCoin Wallet.

The hook should watch an account for incomming payloads and invoke an external program when a marker is received. Account, external program and marker should be defined by the user at a setup page or in an ini-file. The payload and other necessary data should continuously be transferred via TCP or UPC to the external program.

There is a difficulty for this hook to work namely the encoding facility of the payload. This should be addressed somehow or there should be a secondary uncode payload or at least an uncoded field for the marker.

In the future such a hook could be combined with some scripting and / or call back functions.


Example of possible use:

The Whitepaper describes the possibilities for layer 2 applications. Such applications could be invoked by a hook. And a layer 2 need a protocol like the The Omni Layer Protocol. Something like the following:

Marker - 32-bit unsigned integer, 4 bytes
Protocol version - 16-bit unsigned integer, 2 bytes
Transaction type - 16-bit unsigned integer, 2 bytes
Currency ID    - 32-bit unsigned integer, 4 bytes
Amount to pay - 64-bit signed integer, 8 bytes 
Currency ID desired    - 32-bit unsigned integer, 4 bytes
Amount desired - 64-bit signed integer, 8 bytes 
Payment window    - 8-bit unsigned integer, 1 byte (blocks)
Transaction fee    - 32-bit signed integer, 4 bytes
Action - 8-bit unsigned integer, 1 byte (offer, accept, reject)

38 bytes in all or 52 bytes Base58 encoded or 76 bytes if Base 16 encoded.

The hook reacts to the marker and transfers the handling to the external program.

 
## Rationale

PascalCoin V2 features like layer 2 applications and One-click e-commerce are easy to implement via hooks.

## Backwards Compatibility

 
## Reference Implementation

 
## Links


